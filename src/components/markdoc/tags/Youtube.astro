---
export const youtube = {
	render: "Youtube",
	attributes: {
		id: {
			type: String,
			default: "acgIGT0J99U",
		},
		style: {
			type: String,
			default: "",
		},
		height: {
			type: String,
			default: "100%",
		},
		width: {
			type: String,
			default: "100%",
		},
	},
};

const { style, id, width, height } = Astro.props;
---

<div class="yt" {style}>
	<iframe
		src=`https://www.youtube-nocookie.com/embed/${id}`
		title="YouTube video player"
		allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
		allowfullscreen></iframe>
</div>

<style define:vars={{ width, height }}>
	.yt {
		position: relative;
		padding-bottom: 56.25%;
		padding-top: 25px;
		height: 0;

		& iframe {
			position: absolute;
			top: 0;
			left: 0;
			width: var(--width);
			height: var(--height);

			border-radius: var(--radius);
			border: 0px;
		}
	}
</style>
